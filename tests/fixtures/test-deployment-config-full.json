{
  "vmName": "azmp-test-vm-01",
  "adminUsername": "azureadmin",
  "location": "eastus",
  "vmSize": "Standard_B2s",
  "osType": "Linux",
  "osImageReference": {
    "publisher": "Canonical",
    "offer": "0001-com-ubuntu-server-jammy",
    "sku": "22_04-lts-gen2",
    "version": "latest"
  },
  "authenticationType": "sshPublicKey",
  "storageAccountType": "Premium_LRS",
  "osDiskSizeGB": 64,
  "publicIPAllocationMethod": "Static",
  "publicIPSku": "Standard",
  "vnetAddressSpace": "10.0.0.0/16",
  "subnetAddressPrefix": "10.0.1.0/24",
  "enablePublicIP": true,
  "enableAcceleratedNetworking": false,
  "createLoadBalancer": true,
  "loadBalancingProtocol": "Tcp",
  "loadBalancingFrontendPort": 80,
  "loadBalancingBackendPort": 80,
  "healthProbeProtocol": "Http",
  "healthProbePort": 80,
  "createApplicationGateway": false,
  "createBastion": false,
  "nsgSecurityRules": [
    {
      "name": "AllowSSH",
      "priority": 1000,
      "direction": "Inbound",
      "access": "Allow",
      "protocol": "Tcp",
      "sourcePortRange": "*",
      "destinationPortRange": "22",
      "sourceAddressPrefix": "*",
      "destinationAddressPrefix": "*"
    },
    {
      "name": "AllowHTTP",
      "priority": 1001,
      "direction": "Inbound",
      "access": "Allow",
      "protocol": "Tcp",
      "sourcePortRange": "*",
      "destinationPortRange": "80",
      "sourceAddressPrefix": "*",
      "destinationAddressPrefix": "*"
    }
  ],
  "enableMonitoring": true,
  "logAnalyticsWorkspaceName": "azmp-law-test-01",
  "logAnalyticsSku": "PerGB2018",
  "logAnalyticsRetentionDays": 30,
  "enableApplicationInsights": true,
  "applicationInsightsName": "azmp-appinsights-test-01",
  "enableDiagnostics": true,
  "enableMetricAlerts": true,
  "metricAlertRules": [
    {
      "name": "HighCPU",
      "description": "Alert when CPU usage exceeds 80%",
      "severity": 2,
      "evaluationFrequency": "PT5M",
      "windowSize": "PT15M",
      "metricName": "Percentage CPU",
      "operator": "GreaterThan",
      "threshold": 80,
      "aggregation": "Average"
    },
    {
      "name": "HighMemory",
      "description": "Alert when memory usage exceeds 85%",
      "severity": 2,
      "evaluationFrequency": "PT5M",
      "windowSize": "PT15M",
      "metricName": "Available Memory Bytes",
      "operator": "LessThan",
      "threshold": 1073741824,
      "aggregation": "Average"
    }
  ],
  "actionGroupName": "azmp-actiongroup-test",
  "actionGroupShortName": "azmpag",
  "emailReceivers": [
    {
      "name": "DevOps Team",
      "emailAddress": "devops@example.com"
    }
  ],
  "enableCostOptimization": true,
  "monthlyBudgetLimit": 100,
  "budgetAlertThresholds": [80, 90, 100],
  "enablePerformanceOptimization": true,
  "performanceProfile": "Standard",
  "enableAutoScaling": true,
  "autoScaleMin": 2,
  "autoScaleMax": 10,
  "autoScaleDefault": 2,
  "cpuScaleOutThreshold": 75,
  "cpuScaleInThreshold": 25,
  "enableHighAvailability": true,
  "availabilityOption": "AvailabilitySet",
  "availabilitySetName": "azmp-avset-01",
  "faultDomainCount": 2,
  "updateDomainCount": 5,
  "platformFaultDomainCount": 2,
  "platformUpdateDomainCount": 5,
  "availabilityZones": [],
  "useAvailabilityZones": false,
  "createAvailabilitySet": true,
  "enableDisasterRecovery": true,
  "enableBackup": true,
  "backupVaultName": "azmp-vault-01",
  "backupPolicyName": "DefaultPolicy",
  "backupScheduleTime": "02:00",
  "backupRetentionDays": 30,
  "dailyRetentionDays": 30,
  "recoveryRegion": "westus2",
  "enableSnapshot": true,
  "snapshotRetentionDays": 7,
  "enableManagedIdentity": true,
  "userAssignedIdentities": [],
  "installExtensions": true,
  "installCustomScriptExtension": false,
  "customScriptUrl": "",
  "customScriptCommand": "",
  "installMonitoringExtension": true,
  "workspaceId": "",
  "workspaceKey": "",
  "installSecurityExtension": true,
  "installAntimalwareExtension": true,
  "antimalwareExclusions": {
    "extensions": [".log", ".tmp"],
    "paths": ["/tmp", "/var/tmp"],
    "processes": []
  },
  "createVmss": false,
  "vmssName": "azmp-vmss-01",
  "vmssInstanceCount": 2,
  "enableMultiRegion": false,
  "tags": {
    "Environment": "Test",
    "Project": "AZMP-Plugin-VM",
    "Phase": "5-Validation",
    "ManagedBy": "ARM-Template",
    "DeployedBy": "Quickstart-Script"
  }
}
