{{!-- Load Balancer ARM Template Parameters --}}
{{!-- Provides input parameters for load balancer configuration --}}

{{#if haConfig.loadBalancer.enabled}}
  "loadBalancerType": {
    "type": "string",
    "defaultValue": "{{haConfig.loadBalancer.type}}",
    "allowedValues": [
      "public",
      "internal"
    ],
    "metadata": {
      "description": "Type of load balancer to deploy"
    }
  },
  "loadBalancerSku": {
    "type": "string",
    "defaultValue": "{{haConfig.loadBalancer.sku}}",
    "allowedValues": [
      "Basic",
      "Standard"
    ],
    "metadata": {
      "description": "SKU of the load balancer"
    }
  },
  {{#equal haConfig.loadBalancer.type "internal"}}
  {{#if haConfig.loadBalancer.frontend.privateIpAddress}}
  "loadBalancerPrivateIP": {
    "type": "string",
    "defaultValue": "{{haConfig.loadBalancer.frontend.privateIpAddress}}",
    "metadata": {
      "description": "Static private IP address for internal load balancer"
    }
  },
  {{/if}}
  {{/equal}}
  "vnetName": {
    "type": "string",
    "metadata": {
      "description": "Name of the virtual network"
    }
  },
  "vnetResourceGroup": {
    "type": "string",
    "defaultValue": "[resourceGroup().name]",
    "metadata": {
      "description": "Resource group of the virtual network"
    }
  },
  "subnetName": {
    "type": "string",
    "metadata": {
      "description": "Name of the subnet for load balancer deployment"
    }
  },
{{/if}}
{{#if haConfig.vmss.enabled}}
  "vmssInstanceCount": {
    "type": "int",
    "defaultValue": {{haConfig.vmss.instanceCount.default}},
    "minValue": {{haConfig.vmss.instanceCount.min}},
    "maxValue": {{haConfig.vmss.instanceCount.max}},
    "metadata": {
      "description": "Number of VM instances in the scale set"
    }
  },
  "vmssVmSize": {
    "type": "string",
    "defaultValue": "{{haConfig.vmss.vmSize}}",
    "metadata": {
      "description": "Size of the VM instances in the scale set"
    }
  },
  "vmssComputerNamePrefix": {
    "type": "string",
    "defaultValue": "{{haConfig.vmss.osProfile.computerNamePrefix}}",
    "maxLength": 9,
    "metadata": {
      "description": "Computer name prefix for VM instances"
    }
  },
  "vmssAdminUsername": {
    "type": "string",
    "defaultValue": "{{haConfig.vmss.osProfile.adminUsername}}",
    "metadata": {
      "description": "Admin username for VM instances"
    }
  },
  {{#if haConfig.vmss.osProfile.adminPassword}}
  "vmssAdminPassword": {
    "type": "securestring",
    "metadata": {
      "description": "Admin password for VM instances"
    }
  },
  {{/if}}
  {{#if haConfig.vmss.osProfile.customData}}
  "vmssCustomData": {
    "type": "string",
    "defaultValue": "{{haConfig.vmss.osProfile.customData}}",
    "metadata": {
      "description": "Custom data for VM instances"
    }
  },
  {{/if}}
{{/if}}